# Creating a new AEM CIF Project

The [CIF Project archetype](https://github.com/adobe/aem-cif-project-archetype) creates a minimal Adobe Experience Manager (AEM) CIF project as a starting point for customer projects using [CIF Core Components](https://github.com/adobe/aem-core-cif-components). The CIF Project archetype should be used for new projects looking to integrate AEM and Magento using the Commerce Integration Framework. The CIF Project archetype can also serve as a useful reference for existing AEM projects looking to add the CIF related dependencies.

In this guide we will generate a new AEM CIF project using the CIF Project archetype and explore how to use it.

## Background

**What is a Maven project?** - [Apache Maven](https://maven.apache.org/) is a software management tool to build projects. All AEM implementations use Maven projects to build, manage and deploy custom code on top of AEM.

**What is a Maven archetype?** - A [Maven archetype](https://maven.apache.org/archetype/index.html) is a template or pattern for generating new projects. The CIF Project archetype allows us to generate a new project with a custom namespace and include a project structure that follows best practices.

## Prerequisites

The following tools and technologies are required:

* [Java 1.8](https://www.oracle.com/technetwork/java/javase/downloads/index.html) or [Java 11](https://www.oracle.com/technetwork/java/javase/downloads/jdk11-downloads-5066655.html) (AEM 6.5+ only)
* [Apache Maven](https://maven.apache.org/) (3.3.9 or newer)
* Adobe Experience Manager
  * [AEM 6.5](https://helpx.adobe.com/experience-manager/6-5/sites/deploying/using/technical-requirements.html)
  * [AEM 6.4.4+](https://helpx.adobe.com/experience-manager/6-4/release-notes/sp-release-notes.html)

It is also considered a best practice to include the Adobe Public Maven Repository in your Maven settings. This file, commonly found at `~/.m2/settings.xml` can be updated following this [Knowledge Base](https://helpx.adobe.com/experience-manager/kb/SetUpTheAdobeMavenRepository.html) article.

## Generate the project

The next series of steps will take place using a UNIX based command line  terminal,  but should be similar if using a Windows terminal.

1. Navigate to a directory, i.e a source folder, in which you want to generate the project:

    ```shell
    $ cd ~/src
    ```

2. Copy+Paste the following command to initiate the creation of a new project in interactive mode:

    ```shell
    mvn archetype:generate \
    -DarchetypeGroupId=com.adobe.commerce.cif \
    -DarchetypeArtifactId=cif-project-archetype \
    -DarchetypeVersion=0.2.0
    ```

    > *Note, in the above command we use version **0.2.0** of the archetype. As a best practice, always use the latest [released version of the archetype](https://github.com/adobe/aem-cif-project-archetype/releases).*

3. The CIF Project Archetype will prompt a series of parameters to generate the project. Use the following values:

    | Name                  | Value              | Description                        |
    | --------------------- | -------            | ---------------------------------- |
    | groupId               | **com.sample.cif** | Base Maven groupId                 |
    | appsFolderName        | **sample**         | /apps folder name                  |
    | artifactId            | **sample-store**   | Base Maven ArtifactId              |
    | version               | **1.0-SNAPSHOT**   | Version                            |
    | package               | **com.sample.cif** | Java Source Package                |
    | artifactName          | **Sample Store**   | Maven Project Name                 |
    | componentGroupName    | **Sample.Content** | AEM component group name           |
    | confFolderName        | **sample**         | /conf folder name                  |
    | contentFolderName     | **sample**         | /content folder name               |
    | optionAemVersion      | *6.5.0*            | Target AEM version                 |
    | optionIncludeExamples | *y*                | Include Component Library examples |
    | packageGroup          | **sample**         | Content Package Group name         |
    | siteName              | **Sample Store**   | AEM site name                      |

    > Note: If the archetype is executed in interactive mode the first time properties with default values can't be changed (see [ARCHETYPE-308](https://issues.apache.org/jira/browse/ARCHETYPE-308) for more details). The value can be changed when the property confirmation at the end is denied and the questionnaire gets repeated or by passing the parameter in the command line (e.g. `-DoptionIncludeExamples=n`).

4. The following folder and file structure will be generated by the archetype:

    ```plain
    ~/src/
        |--- sample-store/
              |--- all/
              |--- core/
              |--- samplecontent/
              |--- ui.apps/
              |--- ui.content/
              |--- README.md
              |--- pom.xml
    ```

    * **Parent POM** - deploys maven modules and manages dependency versions
    * **core** - Java bundle containing all core functionality like Sling Models, OSGi services, and other component related Java code such as servlets or request filters.
    * **ui.apps** - contains the `/apps` part of the project, including proxy components for CIF core components and WCM Core Components.
    * **ui.content** - contains structural content and configurations (/content, /conf) including CIF templates like catalog template, category template, and search result template.
    * **samplecontent** - contains some sample assets and pages to get started. Once a project reaches maturity, this module can be removed and should be removed prior to production.
    * **all** - combines all of the sub-modules and CIF dependencies into a single package that can be installed to a local AEM instance.

## Additional Resources {#additional-resources}

* [AEM CIF Archetype](https://github.com/adobe/aem-cif-project-archetype)
* [AEM CIF components](https://github.com/adobe/aem-core-cif-components)
* [AEM- CIF connector and authoring tools](https://github.com/adobe/commerce-cif-connector)
